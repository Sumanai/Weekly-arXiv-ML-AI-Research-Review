# Schema-Guided Scene-Graph Reasoning based on Multi-Agent Large Language Model System

## Архитектура системы и методология

SG² (Schema-Guided Scene-Graph Reasoning – рассуждения по графам сцены на основе схемы) представляет собой многоагентную структуру, которая устраняет фундаментальные ограничения больших языковых моделей при выполнении пространственных рассуждений на сложных графах сцены. Система работает по итеративной парадигме «Рассуждай-пока-извлекаешь», где специализированные агенты сотрудничают для решения задач, никогда не обрабатывая полный граф сцены напрямую.

![](https://raw.githubusercontent.com/Verbasik/Weekly-arXiv-ML-AI-Research-Review/refs/heads/develop/2025/week-36/assets/Image-01.png)

> Рисунок 1: Сравнение парадигм рассуждений. (а) «Только рассуждение» напрямую обрабатывает полный граф сцены, часто приводя к галлюцинациям и отвлечениям. (b) «Извлечь-затем-рассудить» выполняет статическое извлечение перед рассуждением. (c) Подход SG² «Рассуждай-пока-извлекаешь» обеспечивает динамический, итеративный сбор информации с помощью специализированных агентов.

Структура состоит из двух основных модулей: модуля рассуждений, отвечающего за планирование задач и генерацию решений, и модуля извлечения, который выполняет программное извлечение информации из графов сцены. Каждый модуль содержит специализированных подагентов, которые выполняют различные обязанности, сохраняя при этом разделенные контексты для предотвращения информационной перегрузки.

Модуль рассуждений включает планировщика задач, который организует процесс решения проблем, генерируя запросы на извлечение информации, вызывая внешние инструменты или предоставляя окончательные решения. Он работает вместе с вызывателем инструментов, который преобразует высокоуровневые запросы в исполняемый код Python. Модуль извлечения включает написание кода, который генерирует исполняемые программы на Python для программного запроса графов сцены, и верификатор, который проверяет, удовлетворяет ли извлеченная информация исходным требованиям запроса.

![](https://raw.githubusercontent.com/Verbasik/Weekly-arXiv-ML-AI-Research-Review/refs/heads/develop/2025/week-36/assets/Image-02.png)

> Рисунок 2: Подробный рабочий процесс, показывающий, как многоагентная система обрабатывает задачу. Планировщик задач генерирует запросы на основе схемы графа сцены, в то время как написание кода производит исполняемый код для извлечения релевантной информации, поддерживая разделение контекста между операциями рассуждения и извлечения.

## Обработка информации на основе схемы

Ключевым нововведением SG² является использование схем графов сцены в качестве структурного руководства как для операций рассуждения, так и для операций извлечения. Вместо того чтобы перегружать агентов необработанными данными графа, система предоставляет каждому агенту абстрактное описание структуры графа, включая типы узлов, отношения ребер и спецификации атрибутов.

Схема выполняет несколько критически важных функций: она позволяет Планировщику задач абстрактно рассуждать о пространственных отношениях, не обрабатывая ненужные детали, направляет Написание кода в генерации структурно корректного кода обхода графа и гарантирует, что запросы между модулями хорошо сформированы и могут быть разобраны. Этот подход, основанный на схеме, предотвращает распространенную проблему, когда большие языковые модели отвлекаются на нерелевантную информацию в больших, сложных средах.

Механизм программного извлечения представляет собой значительное отступление от традиционных подходов с фиксированным API. Вместо того чтобы полагаться на заранее определенные функции запроса, Написание кода генерирует пользовательский код Python, который может выполнять сложные обходы графов, операции фильтрации и агрегирование данных. Такая гибкость позволяет системе адаптироваться к разнообразным информационным потребностям без необходимости обширного ручного курирования API для конкретных задач.

## Экспериментальная оценка и результаты

Исследователи оценили SG² в различных средах и типах задач, чтобы продемонстрировать его эффективность. Тестирование проводилось в BabyAI (среда 2D-сетки) для задач ответа на числовые вопросы и планирования обхода, а также в VirtualHome для сценариев планирования сложных бытовых задач.

![](https://raw.githubusercontent.com/Verbasik/Weekly-arXiv-ML-AI-Research-Review/refs/heads/develop/2025/week-36/assets/Image-03.png)

> Рисунок 3: Примеры задач из тестовых сред. (а-b) Задачи BabyAI по подбору объектов, (c) числовое рассуждение о пространственных отношениях, (d) планирование бытовых задач в VirtualHome, требующее многошаговых последовательностей действий.

Результаты демонстрируют превосходную производительность SG² во всех протестированных сценариях. Для ответов на числовые вопросы в BabyAI SG² достиг 98% успеха по сравнению с 86% у ReAct и традиционными методами подсказок по графам, которые обычно набирали менее 70%. В задачах планирования перемещения SG² поддерживал высокую производительность (96-97% успеха), в то время как многие базовые методы полностью проваливались на вариациях предметной области, опускаясь до 0% успеха.

![](https://raw.githubusercontent.com/Verbasik/Weekly-arXiv-ML-AI-Research-Review/refs/heads/develop/2025/week-36/assets/Image-04.png)

> Рисунок 4: Визуализация того, как графы сцен представляют пространственные среды. Иерархическая графовая структура фиксирует отношения между комнатами, объектами и пространственными связями, что позволяет систематически рассуждать о планировке окружающей среды.

Возможно, наиболее значимым является то, что абляционные исследования выявляют специфический вклад проектных решений SG². Когда ReAct был ограничен использованием ограниченных API (ReAct-limit), его производительность резко упала (с 86% до 40% в числовых вопросах и ответах). Однако SG² с теми же ограничениями API (SG²-limit) по-прежнему достиг 47% успеха, демонстрируя, что сама по себе многоагентная архитектура обеспечивает значительные преимущества, предотвращая накопление контекста и поддерживая сфокусированное рассуждение.